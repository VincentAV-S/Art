<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vincent Aem Valdez-Stanley â€” Archive of Projects</title>
  <meta name="description" content="Archive of Projects." />
  <style>
    :root{
      --bg:#0f1115;           /* deep gray, ChatGPT-ish */
      --panel:#141820;        /* card background */
      --muted:#97a0af;        /* secondary text */
      --text:#e7e9ee;         /* primary text */
      --accent:#6ee7ff;       /* links, accents */
      --chip:#242938;         /* tag chip bg */
      --chipText:#cfd6e6;
      --border:#222737;       /* subtle borders */
      --shadow:0 6px 18px rgba(0,0,0,.35);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
      letter-spacing:.2px;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}

    /* Header */
    .site{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.2) blur(6px);
      background:linear-gradient(180deg, rgba(15,17,21,.9), rgba(15,17,21,.65));
      border-bottom:1px solid var(--border);
    }
    .wrap{max-width:1100px; margin:0 auto; padding:14px 18px}
    .row{display:flex; align-items:center; gap:14px}
    .avatar{
      width:44px; height:44px; border-radius:10px; flex:0 0 auto; background:#2b2f3d;
      background-size:cover; background-position:center; border:1px solid var(--border);
    }
    .title{font-weight:700; font-size:18px; margin:0}
    .subtitle{margin:0; font-size:12px; color:var(--muted)}

    /* Controls */
    .controls{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .control{display:flex; align-items:center; gap:10px; background:var(--panel); padding:10px 12px; border-radius:12px; border:1px solid var(--border)}
    .control input[type="text"], .control select{
      background:transparent; border:none; outline:none; color:var(--text); font-size:14px; min-width:160px;
    }

    /* Tag chips */
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{background:var(--chip); color:var(--chipText); padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--border); cursor:pointer; user-select:none}
    .chip.active{background:#2c3550; color:#f1f5ff; border-color:#343f66}

    /* List */
    .list{max-width:1100px; margin:18px auto; padding:0 18px; display:grid; grid-template-columns:1fr; gap:16px}
    .item{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow)}
    .itemHeader{display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap}
    .item h3{margin:0; font-size:18px}
    .meta{color:var(--muted); font-size:12px}
    .desc{margin:10px 0 14px; color:#d7dbe5}
    .actions{display:flex; gap:10px; flex-wrap:wrap}
    .btn{background:#1d2230; border:1px solid var(--border); color:var(--text); padding:8px 12px; border-radius:10px; font-size:14px; cursor:pointer}
    .btn:hover{border-color:#3a4360}

    /* Footer */
    footer{max-width:1100px; margin:40px auto 60px; padding:0 18px; color:var(--muted); font-size:12px}

    /* Inline PDF viewer */
    .pdfWrap{margin-top:12px; border:1px solid var(--border); border-radius:12px; overflow:hidden; background:#0c0f14}
    .pdfBar{display:flex; justify-content:flex-end; gap:10px; padding:8px; border-bottom:1px solid var(--border); background:#0d1117}
    .pdfFrame{width:100%; height:820px; border:0; display:block; background:#0c0f14}

    /* Small screens */
    @media (max-width:640px){
      .avatar{width:36px; height:36px}
      .title{font-size:16px}
      .desc{font-size:14px}
    }
  </style>
</head>
<body>
  <!-- Sticky header -->
  <header class="site">
    <div class="wrap">
      <div class="row">
        <!-- Replace avatar.jpg with your square headshot in /assets/avatar.jpg (or change path) -->
        <div id="avatar" class="avatar" style="background-image:url('avatar.jpg')"></div>
        <div>
          <p class="title">Vincent Aem Valdez-Stanley</p>
          <p class="subtitle">Archive of Projects.</p>
        </div>
      </div>

      <!-- Controls: search, year, tags -->
      <div class="controls" aria-label="filters">
        <label class="control" title="Search title & description">
          <span class="ghost">Search</span>
          <input id="q" type="text" placeholder="e.g., Newsletter 13" />
        </label>
        <label class="control" title="Filter by year">
          <span class="ghost">Year</span>
          <select id="year"><option value="">All</option></select>
        </label>
        <div id="tags" class="chips" role="group" aria-label="Filter by tag"></div>
      </div>
    </div>
  </header>

  <!-- Content list -->
  <main class="list" id="list" aria-live="polite"></main>

  <footer>
    <p>Tip: PDFs render inline below each post. Use the download button in the post header to save a copy.</p>
  </footer>

  <script>
    /* ===== CONTENT DATA =====
       Your ITEMS array remains unchanged below.
    */
    const ITEMS = [
      {
        id: 'n00001',
        title: 'Newsletter No. 1',
        date: '2024-11-17',
        tags: ['Newsletters'],
        desc: 'Colonial Home Exteriors; My 30th Birthday; Black Coarse Pepper; Avocado Bread; Too Good To Go.',
        url: 'N00001  46SUN20241117.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00002',
        title: 'Newsletter No. 2',
        date: '2024-11-28',
        tags: ['Newsletters'],
        desc: 'The Big Dig; The Wealth Gap Near Me; My Potential Land; $1000 Per Month in Bogata, Columbia; Lex Fridman; Kai Trump.',
        url: 'N00002   48THU20251128.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00003',
        title: 'Newsletter No. 3',
        date: '2024-12-07',
        tags: ['Newsletters'],
        desc: 'The Missing Piece in My Life; Jeff Bezos is Still Fascinating; A Watch Brand for Prisoners of Time.',
        url: 'N000003   49SAT20251207.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00004',
        title: 'Newsletter No. 4',
        date: '2024-12-25',
        tags: ['Newsletters'],
        desc: '96 Hours; An Update on My Custom Vanity Desk; Vintage Textbooks; Gregg Shorthand and Stenography; Anything for a Beautiful Jew.',
        url: 'N000004   52WED20251225.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00005',
        title: 'Newsletter No. 5',
        date: '2025-01-12',
        tags: ['Newsletters'],
        desc: 'A Kitchen Commotion; My New Bedside Table.',
        url: 'N000005   02SUN20250112.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00006',
        title: 'Newsletter No. 6',
        date: '2025-01-19',
        tags: ['Newsletters'],
        desc: 'New Books; Desire, Utility, Scarcity = Value = Economics.',
        url: 'N000006   03SUN20250119.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00007',
        title: 'Newsletter No. 7',
        date: '2025-02-02',
        tags: ['Newsletters'],
        desc: 'Feeling Like the Richest Man in the Universe; High Guard; Philly Shell.',
        url: 'N000007   05SUN20250202.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00009',
        title: 'Newsletter No. 9',
        date: '2025-07-05',
        tags: ['Newsletters'],
        desc: 'Sybil from Grantham; The Other Side; How to Get the Job.',
        url: 'N000009   27SAT20250705.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00010',
        title: 'Newsletter No. 10',
        date: '2025-07-13',
        tags: ['Newsletters'],
        desc: 'On the Search for Relief; The Capitalist and the Laborer.',
        url: 'N000010   28SUN20250713.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00011',
        title: 'Newsletter No. 11',
        date: '2025-07-26',
        tags: ['Newsletters'],
        desc: 'Piano; Life Calendar; New Books from the Thrift Store; Television.',
        url: 'N000011   30SAT20250726.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00012',
        title: 'Newsletter No. 12',
        date: '2025-08-16',
        tags: ['Newsletters'],
        desc: 'Stitching; Stopwatch; Sketching; Sphaghetti.',
        url: 'N000012   33SAT20250816.pdf',
        kind: 'pdf'
      },
      {
        id: 'n00013',
        title: 'Newsletter No. 13',
        date: '2025-10-02',
        tags: ['Newsletters'],
        desc: 'Seeking Something Missing--Missing Something Left Behind; New Books; Old Dogs; Red Morphology; Donating Versus Storing; The Arnold Bennett 7.5 Mehtod and The David Allen Prioritization, Capability, and Availability Principle.',
        url: 'N000013   40THU20251002.pdf',
        kind: 'pdf'
      }
    ];

    /* ===== RENDERING ===== */
    const list = document.getElementById('list');
    const q = document.getElementById('q');
    const year = document.getElementById('year');
    const tags = document.getElementById('tags');

    // derive years and tags
    const years = [...new Set(ITEMS.map(i=>new Date(i.date).getFullYear()))].sort((a,b)=>b-a);
    years.forEach(y=>{ const opt=document.createElement('option'); opt.value=String(y); opt.textContent=String(y); year.appendChild(opt); });

    const tagSet = new Set(ITEMS.flatMap(i=>i.tags));
    const activeTags = new Set();
    [...tagSet].sort().forEach(t=>{
      const chip = document.createElement('button');
      chip.className = 'chip'; chip.textContent = t; chip.setAttribute('data-tag', t);
      chip.addEventListener('click', ()=>{ chip.classList.toggle('active'); activeTags.has(t) ? activeTags.delete(t) : activeTags.add(t); render(); });
      tags.appendChild(chip);
    });

    [q, year].forEach(el=>el.addEventListener('input', render));

    function matches(item){
      const term = q.value.trim().toLowerCase();
      const okTerm = !term || (item.title+" "+item.desc).toLowerCase().includes(term);
      const okYear = !year.value || String(new Date(item.date).getFullYear())===year.value;
      const okTags = activeTags.size===0 || item.tags.some(t=>activeTags.has(t));
      return okTerm && okYear && okTags;
    }

    function render(){
      // sort by date desc
      const sorted = [...ITEMS].sort((a,b)=> new Date(b.date) - new Date(a.date));
      list.innerHTML = '';
      sorted.filter(matches).forEach(item=> list.appendChild(renderItem(item)));
      if(!list.children.length){
        const empty = document.createElement('p');
        empty.className='ghost wrap';
        empty.textContent='No items match your filters.';
        list.appendChild(empty);
      }
    }

    function renderItem(item){
      const el = document.createElement('article'); el.className='item';
      const d = new Date(item.date);
      const dateText = d.toLocaleDateString(undefined, { year:'numeric', month:'long', day:'numeric'});

      // header
      const tagsHtml = item.tags.map(t=>`<span class="chip" aria-hidden="true">${escapeHTML(t)}</span>`).join('');
      const header = `
        <div class="itemHeader">
          <h3>${escapeHTML(item.title)}</h3>
          <div class="meta">${dateText}</div>
        </div>
        <div class="desc">${escapeHTML(item.desc)}</div>
        <div class="chips">${tagsHtml}</div>
        <div class="actions">
          ${item.kind==='pdf' ? `<a class="btn" href="${item.url}" download>Download PDF</a>`:''}
          ${item.kind!=='pdf' ? `<a class="btn" href="${item.url}" target="_blank" rel="noopener">Open</a>`:''}
        </div>`;

      el.innerHTML = header;

      // inline viewer for PDFs (feed-style)
if (item.kind === 'pdf') {
  const encodedUrl = encodeURIComponent(window.location.origin + '/' + item.url);
  const viewerUrl = `https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodedUrl}#page=1`;
  const box = document.createElement('div');
  box.className = 'pdfWrap';
  box.innerHTML = `
    <div class="pdfBar">
      <span class="ghost">Inline preview</span>
      <a class="btn" href="${item.url}" download>Download PDF</a>
      <a class="btn" href="${item.url}" target="_blank" rel="noopener">Open in New Tab</a>
    </div>
    <iframe class="pdfFrame" loading="lazy" src="${viewerUrl}"></iframe>
  `;
  el.appendChild(box);
}
      return el;
    }

    // simple escape (single definition)
    function escapeHTML(s){ return s.replace(/[&<>\"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[m])); }

    // initial render
    render();
  </script>
</body>
</html>
